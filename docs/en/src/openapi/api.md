# API

The following defines some API operations to add, delete, modify and query the `pet` table.

A method represents an API operation. Use the `path` and `method` attributes to specify the path and HTTP method of the operation.

There can be multiple parameters for each API operation, and the following types can be used:

    - **poem_openapi::param::Query** represents this parameter is parsed from the query string

    - **poem_openapi::param::Header** represents this parameter is parsed from the request headers

    - **poem_openapi::param::Path** represents this parameter is parsed from the URI path

    - **poem_openapi::param::Cookie** represents this parameter is parsed from the cookie

    - **poem_openapi::param::CookiePrivate** represents this parameter is parsed from the private cookie

    - **poem_openapi::param::CookieSigned** represents this parameter is parsed from the signed cookie

    - **poem_openapi::payload::Binary** represents a binary request payload

    - **poem_openapi::payload::Json** represents a request payload encoded with JSON

    - **poem_openapi::payload::PlainText** represents a utf8 string request payload

    - **ApiRequest** parse the request payload generated by `ApiRequest` macro

    - **SecurityScheme** parse the security scheme generated by `SecurityScheme` macro

    - **T: FromRequest** used poem's extractors

The return value can be any type that implements `ApiResponse`.

```rust
use poem_api::{
    OpenApi,
    poem_api::payload::Json,
    param::{Path, Query},
};
use poem::Result;

struct Api;

#[OpenApi]
impl Api {
    /// Add new pet
    #[oai(path = "/pet", method = "post")]
    async fn add_pet(&self, pet: Json<Pet>) -> Result<()> {
        todo!()
    }
  
    /// Update existing pet
    #[oai(path = "/pet", method = "put")]
    async fn update_pet(&self, pet: Json<Pet>) -> Result<()> {
        todo!()
    }

    /// Delete a pet
    #[oai(path = "/pet/:pet_id", method = "delete")]
    async fn delete_pet(&self, #[oai(name = "pet_id", in = "path")] id: Path<u64>) -> Result<()> {
        todo!()
    }
  
    /// Query pet by id
    #[oai(path = "/pet", method = "get")]
    async fn find_pet_by_id(&self, id: Query<u64>) -> Result<Json<Pet>> {
        todo!()
    }

    /// Query pets by status
    #[oai(path = "/pet/findByStatus", method = "get")]
    async fn find_pets_by_status(&self, status: Query<Status>) -> Result<Json<Vec<Pet>>> {
        todo!()
    }
}
```
